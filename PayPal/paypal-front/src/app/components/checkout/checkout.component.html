<div *ngIf="!loading; else loadingIndicator" class="checkout-container">
    <div *ngIf="!error; else errorMessage">
        <h2>Complete Your Payment</h2>
        <div class="transaction-details">
            <p><strong>Order ID:</strong> {{ transactionDetails?.orderId }}</p>
            <p><strong>Amount:</strong> ${{ transactionDetails?.amount }}</p>
        </div>
        
        <div id="paypal-button-container"></div>
    </div>
    
    <ng-template #errorMessage>
        <div class="alert alert-danger">
            {{ error }}
            <a routerLink="/" class="btn btn-primary mt-3">Return to Home</a>
        </div>
    </ng-template>
</div>

<ng-template #loadingIndicator>
    <div class="loading-spinner">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p>Loading payment details...</p>
    </div>
</ng-template>